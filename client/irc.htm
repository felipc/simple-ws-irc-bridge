<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>irc</title>
</head>
<style type="text/css" source="styles.css" />

<script type="application/javascript;version=1.8" src="irc.js" />
<script type="application/javascript;version=1.8" src="client.js" />

<script type="application/javascript;version=1.8">

  let frontEnd = new Client(document,
	                          document.getElementById("textinput"),
	                          document.getElementById("output"));
	
  let ws = new WebSocket("ws://localhost:8080/");
  let irc = new IRC(ws, frontEnd);
	
	function keypress(event) {
		if (keyCode == 13) {
		  frontEnd.postMessage();
		}
	}
	
	function start() {
		IRC = new IRC(ws);
		IRC.connect("felipe");
	}
	
	function message(event) {
		IRC.messageReceived(event.data);
	}
</script>
<body>
<div id="input">
  <input id="textinput" type="text" onkeypress="keypress(event)">
</div>

<div id="output"> </div>
</body>
</html>
